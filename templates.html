---
layout: page
title: Szablony Twig
active: templates
---

<sidebar>
    <ol>
        <li><a href="#ogolne">Ogólne</a></li>
        <li><a href="#rozszerzanie">Rozszerzanie szablonów</a></li>
        <li><a href="#nazewnictwo">Nazewnictwo</a></li>
        <li><a href="#formatowanie">Formatowanie</a></li>
        <li><a href="#assety">Dodawanie assetów</a></li>
    </ol>
</sidebar>

<article>
    <h2><a name="ogolne">Ogólne</a></h2>
    <p>Każdy widok powinien być na tyle modułowy, na ile zachodzi możliwość reużywalności poszczególnych jego elementów.
        Ma to również na celu zwiększenie przejrzystości kodu.
    </p>

    <h2><a name="rozszerzanie">Rozszerzanie szablonów</a></h2>
    <p>Wszystkie widoki dziedziczą z szablonu <code>LayoutBundle::layout.html.twig</code>. Dzięki temu można w prosty
        sposób nadpisywać poszczególne jego bloki w widoku - aby np. usunąć stopkę na danej stronie należy dodać w widoku
        <code>&#123;% block footer %}&#123;% endblock %}</code>
    </p>

    <h2><a name="nazewnictwo">Nazewnictwo</a></h2>
    <p>Klasy, identyfikatory i atrybuty znaczników piszemy używając myślników do oddzielania słów, np.
        <code>&#60;section id="super-modal" data-id="10">&#60;/section></code>. Jest to konwencja w jakiej został napisany
        Bootstrap i żeby utrzymać spójność przejęliśmy ją w nowym kodzie.
    </p>

    <h2><a name="formatowanie">Formatowanie</a></h2>
    <p>Elementy blokowe zapisujemy następująco:</p>
    <pre>&#60;div>
    &#60;p>
        To jest paragraf tekstu.
    &#60;/p>
&#60;/div></pre>
    <p>Elementy liniowe zapisujemy tak:</p>
    <pre>&#60;span>To jest jakiś &#60;strong>tekst&#60;/strong>&#60;/span></pre>
    <p>Tagi warunkowe wewnątrz znaczników piszemy inline’owo, np: </p>
    <pre>&#60;p class="content{if $isLast} last{/if}"></pre>
    <p><strong>Nie formatujemy szablonów z użyciem automatycznego narzędzia dostępnego w PHPStorm!</strong>
        Przynajmniej dopóki nie uda się stworzyć dla niego szablonu zgodnego z naszymi standardami.
    </p>

    <h2><a name="assety">Dodawanie assetów</a></h2>
    <p>Wszystkie assety z katalogów public są symlinkowane do katalogu <code>/web/bundles</code>. Aby stworzyć symlinki
        trzeba odpalić komendę <code>app/console assets:install web --symlink</code></p>
    <ul>
        <li>
            <h4>LESS</h4>
            <p>Domyślnie widok nie zawiera żadnych styli. Wynika to ze sposobu działania LESSów, które nie widzą się
                nawzajem jeśli nie są importowane wewnątrz siebie (szczegóły później). Dlatego na potrzeby każdego
                nowego widoku trzeba stworzyć osobny arkusz LESS i umieścić go w szablonie w następujący sposób: </p>
            <pre>&#123;{ add_stylesheet('bundles/nazwabundla/less/style.less', 10) }}</pre>
            <p>Pierwszy argument to ścieżka do pliku w kontekście katalogu <code>/web/</code>, drugi to numer w kolejce
                kompilatora LESS (default = 100)
            </p>
        </li>
        <li>
            <h4>JavaScript</h4>
            <p>Domyślnie na każdej stronie załączane są skrypty umieszczone w <code>LayoutBundle::layout.html.twig</code></p>
            <p>Aby dodać nowy skrypt w widoku trzeba użyć funkcji:</p>
            <pre>&#123;{ add_javascript('bundles/nazwabundla/js/script.js', 10) }}</pre>
            <p>Przyjmuje ona identyczne argumenty jak w przypadku ładowania LESSów.</p>
        </li>
        <li>
            <h4>Obrazki</h4>
            <p>Obrazki w szablonach wstawiamy w następujący sposób:</p>
            <pre>&#60;img src="&#123;{ get_image('bundles/nazwabundla/img/image.png') }}" /></pre>
        </li>
    </ul>
</article>